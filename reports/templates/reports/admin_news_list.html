{% extends "admin_base.html" %}
{% load static %}

{% block content %}
<div class="container mt-4">
    <h2 class="text-primary mb-4 border-bottom pb-2 text-center text-md-start">ðŸ“° Latest News</h2>

    {% if news_items %}
        <div class="row row-cols-1 row-cols-sm-1 row-cols-md-2 row-cols-lg-3 g-4">
            {% for news in news_items %}
            <div class="col">
                <div class="card shadow-sm h-100 news-card">
                    {% if news.image %}
                        <img src="{{ news.image.url }}" class="card-img-top" alt="News Image">
                    {% else %}
                        <img src="{% static 'images/default_news.jpg' %}" class="card-img-top" alt="News">
                    {% endif %}

                    <div class="card-body d-flex flex-column">
                        <h5 class="card-title mb-2">{{ news.title|default:"Untitled News" }}</h5>
                        <p class="mb-2">
                            <span class="badge bg-secondary">{{ news.created_at|date:"F d, Y H:i" }}</span>
                        </p>

                        {% with news.content|default_if_none:"No content" as content_text %}
                            <p class="card-text text-muted small">{{ content_text|truncatechars:150 }}</p>
                        {% endwith %}
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    {% else %}
        <p class="text-muted text-center">No news has been posted yet.</p>
    {% endif %}
</div>

<style>
.news-card {
    transition: transform 0.2s ease, box-shadow 0.3s ease;
    border-radius: 10px;
    overflow: hidden;
}

.news-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
}

.card-img-top {
    height: 200px;
    object-fit: cover;
    width: 100%;
    border-top-left-radius: 10px;
    border-top-right-radius: 10px;
}

/* Responsive Typography and Padding */
@media (max-width: 576px) {
    h2 {
        font-size: 1.4rem;
    }

    .card-title {
        font-size: 1rem;
    }

    .card-text {
        font-size: 0.9rem;
    }

    .badge {
        font-size: 0.75rem;
    }
}
</style>
{% endblock %}
